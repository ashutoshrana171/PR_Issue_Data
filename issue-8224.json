{"source": "https://github.com/QuantConnect/Lean", "title": "Unable to find fallback package folder 'C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder'.", "link": "https://github.com/QuantConnect/Lean/issues/8224", "state": "closed", "created_by": "alexandre-lecoq", "created_at": "2024-07-24T05:29:01Z", "updated_at": "2024-08-13T07:16:42Z", "closed_at": "2024-07-30T13:43:38Z", "body": "#### Expected Behavior\r\nSolution should open gracefully in vscode.\r\n\r\n#### Actual Behavior\r\nAfter following instructions for Lean development container, i get the following errors :\r\n```\r\n[Error - 5:21:44 AM] [LanguageServerProjectSystem] Error while loading /Lean/DownloaderDataProvider/QuantConnect.DownloaderDataProvider.Launcher.csproj: The \"ResolvePackageAssets\" task failed unexpectedly.\r\nNuGet.Packaging.Core.PackagingException: Unable to find fallback package folder 'C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder'.\r\n   at NuGet.Packaging.FallbackPackagePathResolver..ctor(String userPackageFolder, IEnumerable`1 fallbackPackageFolders)\r\n   at Microsoft.NET.Build.Tasks.NuGetPackageResolver.CreateResolver(IEnumerable`1 packageFolders)\r\n   at Microsoft.NET.Build.Tasks.NuGetPackageResolver.CreateResolver(LockFile lockFile)\r\n   at Microsoft.NET.Build.Tasks.ResolvePackageAssets.CacheWriter..ctor(ResolvePackageAssets task)\r\n   at Microsoft.NET.Build.Tasks.ResolvePackageAssets.CacheReader.CreateReaderFromDisk(ResolvePackageAssets task, Byte[] settingsHash)\r\n   at Microsoft.NET.Build.Tasks.ResolvePackageAssets.CacheReader..ctor(ResolvePackageAssets task)\r\n   at Microsoft.NET.Build.Tasks.ResolvePackageAssets.ReadItemGroups()\r\n   at Microsoft.NET.Build.Tasks.ResolvePackageAssets.ExecuteCore()\r\n   at Microsoft.NET.Build.Tasks.TaskBase.Execute()\r\n   at Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\r\n   at Microsoft.Build.BackEnd.TaskBuilder.ExecuteInstantiatedTask(ITaskExecutionHost taskExecutionHost, TaskLoggingContext taskLoggingContext, TaskHost taskHost, ItemBucket bucket, TaskExecutionMode howToExecuteTask)\r\n```\r\n\r\n#### Reproducing the Problem\r\n<!--- Required for Bugs. Describe how to reproduce the problem. This can be via a failing unit test or a simplified algorithm that reliably demonstrates this issue.  -->\r\nI followed the documentation here : https://github.com/QuantConnect/Lean/tree/master/.vscode\r\nMore specifically, option 2 \"Lean Development Container\".\r\n1. got vs code\r\n2. got docker\r\n3. ran docker pull quantconnect/research:latest\r\n4. ran git clone https://github.com/QuantConnect/Lean\r\n5. opened folder with vs code\r\n6. clicked \"Reopen in Container\"\r\n\r\nAfter some time, I get error messages. They lead to the output tab where errors are displayed.\r\n`NuGet.Packaging.Core.PackagingException: Unable to find fallback package folder 'C:\\Program Files\\dotnet\\sdk\\NuGetFallbackFolder'.`\r\n\r\n\r\n#### System Information\r\nWindows 11\r\nDocker\r\nVS code\r\n\r\n#### Checklist\r\n<!--- Confirm that you've provided all the required information. -->\r\n<!--- Required fields --->\r\n- [X] I have completely filled out this template\r\n- [X] I have confirmed that this issue exists on the current `master` branch\r\n- [X] I have confirmed that this is not a duplicate issue by searching [issues](https://github.com/QuantConnect/Lean/issues)\r\n<!--- Required for Bugs, feature request can delete the line below. -->\r\n- [X] I have provided detailed steps to reproduce the issue\r\n\r\n<!--- Template inspired by https://github.com/stevemao/github-issue-templates -->", "comments": [{"user": "Martin-Molinero", "is_staff": true, "created_at": "2024-07-30T13:43:38Z", "body": "Hey @alexandre-lecoq! Sorry not sure what's wrong here, we don't give support for local direct installations because many things can go wrong from one host to the other. To get it going python3.11, dotnet 6 & setting the pythonnet env would be enough. Suggest looking at our github actions and dockerfiles for more details."}, {"user": "quickdraw6906", "is_staff": false, "created_at": "2024-08-13T07:16:41Z", "body": "Encountered this same error after fresh install (MacOS) using Option 2: Lean Development Container here:\r\nhttps://github.com/QuantConnect/Lean/blob/master/.vscode/readme.md\r\n\r\nLog output started with this:\r\nFailed to find dotnet info from path, falling back to acquire runtime via ms-dotnettools.vscode-dotnet-runtime\r\nNo compatible .NET runtime found. Minimum required version is 8.0.\r\nDotnet path: /root/.vscode-server/data/User/globalStorage/ms-dotnettools.vscode-dotnet-runtime/.dotnet/8.0.7~arm64/dotnet\r\n\r\nRestarting VS Code fixed.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"}]}