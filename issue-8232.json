{"source": "https://github.com/QuantConnect/Lean", "title": "Review Rolling Window Statistics ", "link": "https://github.com/QuantConnect/Lean/issues/8232", "state": "open", "created_by": "AlexCatarino", "created_at": "2024-07-29T20:17:31Z", "updated_at": "2024-08-05T18:06:10Z", "closed_at": null, "body": "#### Expected Behavior\r\nThe start of a period matches the end of the previous period.\r\n\r\n#### Actual Behavior\r\nLEAN uses one data point after the end of the previous period.\r\n\r\n```\r\nM1_20240131\r\n                \"startEquity\": \"100000\",\r\n                \"endEquity\": \"102316.2412\",\r\n...\r\nM1_20240229\r\n                \"startEquity\": \"102179.3097\",   // <--- it should be 102316.2412 ?\r\n                \"endEquity\": \"107670.2602\",\r\n```\r\n\r\n[Adaptable Black Camel.json](https://github.com/user-attachments/files/16418694/Adaptable.Black.Camel.json)\r\n\r\n#### Potential Solution\r\nN/A\r\n\r\n#### Reproducing the Problem\r\nRun basic template algorithm from 20240101 to date.\r\n\r\n#### Checklist\r\n- [x] I have completely filled out this template\r\n- [x] I have confirmed that this issue exists on the current `master` branch\r\n- [x] I have confirmed that this is not a duplicate issue by searching [issues](https://github.com/QuantConnect/Lean/issues)\r\n- [x] I have provided detailed steps to reproduce the issue", "comments": [{"user": "jaredbroad", "is_staff": true, "created_at": "2024-08-05T18:05:56Z", "body": " - May 31st close prices are not equal to June 1st close prices so we don't expect month open to equal month close.\r\n - For perfection we should ensure we're sampling daily prices at market open and not end of day June 1st (June 2nd) which would be lagged 1 day. "}]}